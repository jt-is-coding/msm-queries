<h1>Movie #<%= @the_movie.id %> details</h1>

<a href="/movies">Go back</a>

<hr>

<% matching_movies = Movie.where({ :director_id => @the_movie.director_id }) %>
<dl>
    <dt>Title</dt>
    <dd><%= @the_movie.title %></dd>

    <dt>Year</dt>
    <dd><%= @the_movie.year %></dd>

    <dt>Duration</dt>
    <dd><%= @the_movie.duration %></dd>

    <dt>Description</dt>
    <dd><%= @the_movie.description %></dd>

    <dt>Image</dt>
    <dd><img src="<%= @the_movie.image %>" width="250"></dd>

    <dt>Director</dt>
    <dd>
        <% matching_movies.each do |a_movie| %>
            <% example = Director.where({ :id => a_movie.director_id }) %>
            <% the_director = example.at(0) %>
            <%= the_director.name %>
            <% break %>
        <% end %>
    </dd>

    <dt>Created at</dt>
    <dd><%= @the_movie.created_at %></dd>

    <dt>Updated at</dt>
    <dd><%= @the_movie.updated_at %></dd>
</dl>